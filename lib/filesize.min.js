"use strict";(function(global){var b=/^(b|B)$/;var symbol={bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]};function filesize(arg){var descriptor=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var result=[],val=0,e=undefined,base=undefined,bits=undefined,ceil=undefined,neg=undefined,num=undefined,output=undefined,round=undefined,unix=undefined,spacer=undefined,symbols=undefined;if(isNaN(arg)){throw new Error("Invalid arguments")}bits=descriptor.bits===true;unix=descriptor.unix===true;base=descriptor.base||2;round=descriptor.round!==undefined?descriptor.round:unix?1:2;spacer=descriptor.spacer!==undefined?descriptor.spacer:unix?"":" ";symbols=descriptor.symbols||descriptor.suffixes||{};output=descriptor.output||"string";e=descriptor.exponent!==undefined?descriptor.exponent:-1;num=Number(arg);neg=num<0;ceil=base>2?1e3:1024;if(neg){num=-num}if(num===0){result[0]=0;result[1]=unix?"":!bits?"B":"b"}else{if(e===-1||isNaN(e)){e=Math.floor(Math.log(num)/Math.log(ceil));if(e<0){e=0}}if(e>8){e=8}val=base===2?num/Math.pow(2,e*10):num/Math.pow(1e3,e);if(bits){val=val*8;if(val>ceil&&e<8){val=val/ceil;e++}}result[0]=Number(val.toFixed(e>0?round:0));result[1]=base===10&&e===1?bits?"kb":"kB":symbol[bits?"bits":"bytes"][e];if(unix){result[1]=result[1].charAt(0);if(b.test(result[1])){result[0]=Math.floor(result[0]);result[1]=""}}}if(neg){result[0]=-result[0]}result[1]=symbols[result[1]]||result[1];if(output==="array"){return result}if(output==="exponent"){return e}if(output==="object"){return{value:result[0],suffix:result[1],symbol:result[1]}}return result.join(spacer)}if(typeof exports!=="undefined"){module.exports=filesize}else if(typeof define==="function"&&define.amd){define(function(){return filesize})}else{global.filesize=filesize}})(typeof window!=="undefined"?window:global);